# Setup Script Consolidation Summary

## Overview
The setup and startup scripts have been consolidated and simplified to make the system easier to understand and use.

## What Changed

### Before: Multiple Confusing Scripts ❌
```
root/
  ├── setup.py (master setup)
  ├── frontend/
  │   ├── setup_frontend.py
  │   ├── setup_frontend_local.py
  │   ├── start_all.sh
  │   ├── start_frontend.sh
  │   └── start_image_server.sh
  ├── backend/
  │   ├── setup_backend.py
  │   ├── setup_backend_remote.py
  │   └── login_ngc.sh
  └── image_server/
      └── setup_image_server.py
```

### After: Two Simple Scripts ✅
```
frontend/
  └── setup.py  (sets up frontend + image server)

backend/
  └── setup.py  (sets up backend)
```

## New Setup Process

### Frontend + Image Server Setup (Mac)
```bash
cd frontend
python3 setup.py
```

**Defaults:**
- Image Server: `localhost:8888`
- Vista3D Backend: `localhost:8000` (via SSH tunnel)

**After setup, run:**
```bash
docker compose up
```
This starts both frontend and image server together!

### Backend Setup (Ubuntu Server)
```bash
cd backend
python3 setup.py
```

**After setup, run:**
```bash
docker compose up
```

### SSH Tunnel (from Mac to Ubuntu Server)
```bash
ssh -L 8000:localhost:8000 -R 8888:0.0.0.0:8888 user@ubuntu-server
```

## Files Removed

### Setup Scripts Removed ✂️
- ❌ `setup.py` (root)
- ❌ `frontend/setup_frontend.py`
- ❌ `frontend/setup_frontend_local.py`
- ❌ `image_server/setup_image_server.py`
- ❌ `backend/setup_backend.py`
- ❌ `backend/setup_backend_remote.py`

### Startup Scripts Removed ✂️
- ❌ `frontend/start_all.sh`
- ❌ `frontend/start_frontend.sh`
- ❌ `frontend/start_image_server.sh`
- ❌ `backend/login_ngc.sh`

All replaced with simple `docker compose up` commands!

## Files Added

### New Setup Scripts ✨
- ✅ `frontend/setup.py` - Single script for frontend + image server
- ✅ `backend/setup.py` - Single script for backend

### New Documentation 📚
- ✅ `SETUP.md` - Comprehensive setup guide
- ✅ `QUICK_REFERENCE.md` - Quick command reference
- ✅ `SETUP_CONSOLIDATION.md` - This file!

### Updated Documentation 📝
- ✅ `README.md` - Updated with new setup instructions

## Why This Is Better

### Before: Confusing 😕
- Multiple setup scripts with overlapping functionality
- Separate startup scripts for each service
- Unclear which script to use for which scenario
- Users had to manage multiple terminals and scripts
- Easy to make mistakes

### After: Clear and Simple 😊
- One setup script per location (frontend/backend)
- Standard `docker compose` commands for startup
- Clear defaults that work for the standard scenario
- Less room for error
- Industry-standard approach

## Architecture

```
┌─────────────────────────────────────────┐
│              Your Mac                    │
│  ┌──────────┐      ┌──────────┐        │
│  │ Frontend │◄─────┤  Image   │        │
│  │  :8501   │      │  Server  │        │
│  └────┬─────┘      │  :8888   │        │
│       │            └──────────┘        │
│       │ SSH Tunnel                      │
│       │ -L 8000:localhost:8000          │
│       │ -R 8888:0.0.0.0:8888            │
└───────┼─────────────────────────────────┘
        │
        │ Internet
        │
┌───────┼─────────────────────────────────┐
│       ▼    Ubuntu Server                 │
│  ┌──────────┐                           │
│  │ Vista3D  │                           │
│  │   API    │                           │
│  │  :8000   │                           │
│  └──────────┘                           │
│  (Requires NVIDIA GPU)                   │
└──────────────────────────────────────────┘
```

## Migration Guide

If you have an existing setup:

### 1. Update Your Scripts
```bash
cd /path/to/HPE-Nvidia-Vista-3D
git pull  # Get the latest changes
```

### 2. Remove Old .env Files (Optional)
```bash
# These will be regenerated by the new setup scripts
rm frontend/.env
rm backend/.env
rm image_server/.env
```

### 3. Run New Setup

**Backend (Ubuntu Server):**
```bash
cd backend
python3 setup.py
```

**Frontend (Mac):**
```bash
cd frontend
python3 setup.py
```

### 4. Start Using New Commands
```bash
# Instead of: ./start_all.sh
# Use: docker compose up

# Instead of: ./start_backend.sh
# Use: docker compose up

# Instead of: multiple startup scripts
# Use: docker compose up
```

## Troubleshooting

### Q: I get "setup.py not found" in the root directory
**A:** This is correct! The root setup.py has been removed. Use the setup.py in frontend or backend directories instead.

### Q: Where are the start_*.sh scripts?
**A:** They've been removed. Use `docker compose up` instead, which is simpler and more standard.

### Q: How do I start just the image server?
**A:** The frontend docker-compose.yml includes both services. Running `docker compose up` in the frontend directory starts both automatically.

### Q: Can I still run services separately?
**A:** Yes! Use:
```bash
docker compose up frontend  # Just frontend
docker compose up image-server  # Just image server
```

### Q: What if I want to run in the background?
**A:** Add the `-d` flag:
```bash
docker compose up -d
```

## Benefits Summary

✅ **Simpler**: 2 setup scripts instead of 8+  
✅ **Clearer**: One script per location with obvious purpose  
✅ **Standard**: Uses `docker compose` commands (industry standard)  
✅ **Maintainable**: Less code to maintain and debug  
✅ **Documented**: Clear documentation of the new process  
✅ **Flexible**: Still supports all the same deployment scenarios  
✅ **Error-proof**: Fewer scripts = fewer chances for mistakes  

## Questions?

See the documentation:
- **Complete Guide**: [SETUP.md](SETUP.md)
- **Quick Commands**: [QUICK_REFERENCE.md](QUICK_REFERENCE.md)
- **Main README**: [README.md](README.md)

